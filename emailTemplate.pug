doctype html
html(lang='en')
  head
    link(rel="preconnect" href="https://fonts.googleapis.com")
    link(rel="preconnect" href="https://fonts.gstatic.com" crossorigin)
    link(href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet")
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title Monthly Performance Report!'
    style.
      body {
        font-family: "Josefin Sans", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f2f2f2;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        border: 0;
        border-spacing: 0;
        border-radius: 12px;
        color: #333;
      }
      td {
        padding: 0;
        text-align: center;
      }
      .header {
        padding: 20px;
      }
      .content {
        padding: 20px 40px;
      }
      p{
        font-size: 16px;
        margin: 0;
        text-align : left;
      }
      .data-table, .performance-table{
        width: 100%; 
        border-radius: 12px;
      }
      .data-table th {
        padding: 16px;
        border-right: 1px solid #7A8998;
      }
      .data-table td {
        padding: 8px;
        font-weight: 600;
        border-right: 1px solid #7A8998;
      }
      .data-table tr, .performance-table tr{
        border-bottom: 1px solid #7A8998;
      }
      .performance-table 
      th, .performance-table td {
        padding: 12px 8px;
        border-right: 1px solid #7A8998;
      }
      .data-table td, .performance-table td{
        color: #7A8998;
      }
  body(style='background-color: #EDEDED;')
    table(role='presentation', style='background-color: #FFF; max-width: 800px; margin: 0 auto;')
      thead
        tr
          td.header
            img(src='https://i.imgur.com/gnl9IDR.png', alt='Agent Automated logo' height='100' width='150')
        tr
          td.header(style='text-align: center; padding: 0 40px 40px') 
            h2 Monthly Performance Report!
      tbody
        tr 
          td(style='text-align: left; padding: 0 40px') 
            span(style='font-size: 16px') Hi #{name}
            |,
        tr 
          td.content
            p(style='font-size: 16px') 
              | Find your monthly social analytics below. As always, go to your account 
              a(href='https://main.d2qx684s53d392.amplifyapp.com') here 
              | to make any changes to your posts. We are thankful to be a trusted partner!
            br
            p(style='font-size: 16px')  Sincerely, The Agents Automated Team
        tr
          td(style='text-align: left; padding: 0 80px')
            h3 #{formattedMonthDate} Top Posts! 
        tr
          td(style='padding: 0 80px 40px')
            div(style='border-radius: 8px;')
              table(style='text-align:left; padding:20px 8px;') 
                //- tr
                //-   td(style='text-align:left; padding:20px 8px;')  
                //-     span Top Posts 
                //-     span(style='color: #1A8DFC;padding-left: 16px') #{formattedMonthDate}
                //-   td(style='text-align:right; padding:20px 8px;') 
                //-     div(style='border: 1px solid #7A8998; border-radius: 8px; padding: 8px; color: #7A8998; text-align: left') #{formatedDate}
              table.data-table
                  thead
                    tr(style='border-top: 1px solid #7A8998;')
                      th(style='border-left: 1px solid #7A8998;') Top Posts
                      th Post
                      th Impressions
                      th Reach
                  tbody
                    each post,index in impressionCountOfPosts
                      tr
                        td(style='border-left: 1px solid #7A8998;') 
                          if index === 0
                            | 1st
                          else if index === 1
                            | 2nd
                          else if index === 2
                            | 3rd
                          else if index === 3
                            | 4th
                        td(style='padding: 20px 40px') 
                            img(src=filterdMediaUrls[index], style="width: 20px; height: 20px;")
                        td #{post.totalImpressions}
                        td #{post.totalEngagement}
            
        tr
          td(style='text-align: left; padding: 0 80px')
            h3 #{formattedMonthDate} Account Growth! 
        tr
          td(style='padding: 0 80px 80px')
            div(style='border-radius: 8px;') 
              table(style='text-align:left; padding:20px 8px;') 
                //- tr
                //-   td(style='text-align:left; padding:20px 8px;')  
                //-     span Insights 
                //-     span(style='color: #1A8DFC;padding-left: 16px') #{formattedMonthDate}
                  //- td(style='text-align:right; padding:20px 8px;') 
                  //-   div(style='border: 1px solid #7A8998; border-radius: 8px; padding: 8px; color: #7A8998; text-align: left') #{formatedDate}

              table.performance-table
                  thead
                    tr(style='border-top: 1px solid #7A8998;')
                      th(style='border-left: 1px solid #7A8998;')  
                      th Followers
                      th Impressions
                      th Reach
                      th Engagement Rate
                  tbody
                    tr
                      td(style='text-align:left; border-left: 1px solid #7A8998;') 
                        img(src='https://i.imgur.com/O0Ua0NP.png', alt='Facebook' height='22' width='105')
                      td #{growOfPost.facebook.followers}(#{growOfPost.facebook.followersGrowth})
                      td #{growOfPost.facebook.impressions}(#{growOfPost.facebook.impressionsGrowth})
                      td #{growOfPost.facebook.reach}(#{growOfPost.facebook.reachGrowth})
                      td #{growOfPost.facebook.engagementRate}
                    tr
                      td(style='text-align:left; border-left: 1px solid #7A8998;')
                        img(src='https://i.imgur.com/rj5gmcj.png', alt='Instagram' height='22' width='105')
                      td #{growOfPost.instagram.followers}(#{growOfPost.instagram.followersGrowth})
                      td #{growOfPost.instagram.impressions}(#{growOfPost.instagram.impressionsGrowth})
                      td #{growOfPost.instagram.reach}(#{growOfPost.instagram.reachGrowth})
                      td #{growOfPost.instagram.engagementRate}
                    //- tr
                    //-   td(style='text-align:left; border-left: 1px solid #7A8998;')
                    //-     img(src='https://i.imgur.com/onlOztk.png', alt='LinkedIn' height='22' width='113')
                    //-   td #{growOfPost.linkedin.followers}(#{growOfPost.linkedin.followersGrowth})
                    //-   td #{growOfPost.linkedin.impressions}(#{growOfPost.linkedin.impressionsGrowth})
                    //-   td #{growOfPost.linkedin.reach}(#{growOfPost.linkedin.reachGrowth})
                    //-   td #{growOfPost.linkedin.engagementRate}
                  

        tr 
          td(style='text-align: left; padding: 0 80px')
            h3 #{range} Account Growth!
        tr 
          td(style='padding: 20px 40px') 
            img(src=followersGrowthUrl, alt='Monthly Content Calendar')
        //- tr 
        //-   td(style='text-align: left; padding: 0 80px 80px')
        //-     p Followers are the people that follow you      
        tr 
          td(style='padding: 20px 40px') 
            img(src=impressionGrowthUrl, alt='Monthly Content Calendar')
        tr 
          td(style='text-align: left; padding: 0 80px 80px')
            p(style='font-size: 12px') Impressions are the number of times your content is viewed.  

        tr 
          td(style='padding: 20px 40px') 
            img(src=reachGrowthUrl, alt='Monthly Content Calendar')
        tr 
          td(style='text-align: left; padding: 0 80px 80px')
            p(style='font-size: 12px')  
              | Reach 
              bolt measures the number of unique people that saw your content

        tr 
          td(style='padding: 20px 40px') 
            img(src=engagementGrowthUrl, alt='Monthly Content Calendar')
        //- tr 
        //-   td(style='text-align: left; padding: 0 80px 80px')
        //-     p Followers:           
              
        tr 
          td(style='text-align: left; padding: 0 80px 80px; font-size: 16px')
            p(style='font-size: 16px') We believe feedback is a gift! If you have questions, comments or suggestions for us, please reach out
            p(style='font-size: 16px') to colby@agentsautomated.com.
            br
            p(style='font-size: 16px') -Thank you! Colby
            br
            p(style='font-size: 16px') Founder of Agents Automated Team